2023-03-29 14:33:38.169 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-29 14:33:38.455 +02:00 [DBG] Hosting starting
2023-03-29 14:33:38.626 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1C85E5F590EF96CCA5745C4C60AC850D1B5EF268)
2023-03-29 14:33:38.693 +02:00 [INF] Now listening on: https://localhost:7183
2023-03-29 14:33:38.694 +02:00 [INF] Now listening on: http://localhost:5183
2023-03-29 14:33:38.695 +02:00 [DBG] Loaded hosting startup assembly Tickets.API
2023-03-29 14:33:38.696 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-29 14:33:38.698 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-29 14:33:38.699 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-29 14:33:38.701 +02:00 [INF] Hosting environment: Development
2023-03-29 14:33:38.703 +02:00 [INF] Content root path: C:\Aleksandar\demo\CityInfo\Tickets.API\
2023-03-29 14:33:38.704 +02:00 [DBG] Hosting started
2023-03-29 14:33:39.099 +02:00 [DBG] Connection id "0HMPGA79DI7SV" received FIN.
2023-03-29 14:33:39.099 +02:00 [DBG] Connection id "0HMPGA79DI7SU" received FIN.
2023-03-29 14:33:39.102 +02:00 [DBG] Connection id "0HMPGA79DI7T0" accepted.
2023-03-29 14:33:39.102 +02:00 [DBG] Connection id "0HMPGA79DI7SV" accepted.
2023-03-29 14:33:39.104 +02:00 [DBG] Connection id "0HMPGA79DI7SV" started.
2023-03-29 14:33:39.104 +02:00 [DBG] Connection id "0HMPGA79DI7T0" started.
2023-03-29 14:33:39.127 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 14:33:39.127 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 14:33:39.168 +02:00 [DBG] Connection id "0HMPGA79DI7T0" stopped.
2023-03-29 14:33:39.168 +02:00 [DBG] Connection id "0HMPGA79DI7SV" stopped.
2023-03-29 14:33:39.173 +02:00 [DBG] Connection id "0HMPGA79DI7SV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 14:33:39.173 +02:00 [DBG] Connection id "0HMPGA79DI7T0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 14:33:41.505 +02:00 [DBG] Connection id "0HMPGA79DI7T2" accepted.
2023-03-29 14:33:41.508 +02:00 [DBG] Connection id "0HMPGA79DI7T2" started.
2023-03-29 14:33:41.618 +02:00 [DBG] Connection 0HMPGA79DI7T2 established using the following protocol: "Tls13"
2023-03-29 14:33:41.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger - -
2023-03-29 14:33:41.840 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-29 14:33:41.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger - - - 301 0 - 158.5340ms
2023-03-29 14:33:41.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/index.html - -
2023-03-29 14:33:42.018 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-29 14:33:42.267 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-29 14:33:42.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/swagger-ui.css - -
2023-03-29 14:33:42.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/swagger-ui-bundle.js - -
2023-03-29 14:33:42.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/swagger-ui-standalone-preset.js - -
2023-03-29 14:33:42.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/index.html - - - 200 - text/html;charset=utf-8 356.6194ms
2023-03-29 14:33:42.313 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-03-29 14:33:42.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/swagger-ui.css - - - 200 143632 text/css 91.3967ms
2023-03-29 14:33:42.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - -
2023-03-29 14:33:42.415 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 37.8940ms
2023-03-29 14:33:42.420 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-03-29 14:33:42.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_vs/browserLink - -
2023-03-29 14:33:42.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 152.8189ms
2023-03-29 14:33:42.433 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-03-29 14:33:42.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 165.7905ms
2023-03-29 14:33:42.599 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 176.2407ms
2023-03-29 14:33:43.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - -
2023-03-29 14:33:43.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/favicon-32x32.png - -
2023-03-29 14:33:43.204 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-03-29 14:33:43.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/favicon-32x32.png - - - 200 628 image/png 4.0194ms
2023-03-29 14:33:43.380 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 291.4335ms
2023-03-29 14:36:22.354 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7183/api/tickets/1/2 application/json-patch+json 85
2023-03-29 14:36:22.361 +02:00 [DBG] POST requests are not supported
2023-03-29 14:36:22.382 +02:00 [DBG] 1 candidate(s) found for the request path '/api/tickets/1/2'
2023-03-29 14:36:22.386 +02:00 [DBG] Endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)' with route pattern 'api/tickets/{cityId}/{pointOfInterestId}' is valid for the request path '/api/tickets/1/2'
2023-03-29 14:36:22.388 +02:00 [DBG] Request matched endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)'
2023-03-29 14:36:22.391 +02:00 [INF] Executing endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)'
2023-03-29 14:36:22.415 +02:00 [INF] Route matched with {action = "NewTicketBought", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Tickets.API.Models.BoughtTicketDto]] NewTicketBought(Int32, Int32, Tickets.API.Models.BoughtTicketDto) on controller Tickets.API.Controllers.TicketsController (Tickets.API).
2023-03-29 14:36:22.416 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-29 14:36:22.417 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-29 14:36:22.418 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-29 14:36:22.419 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-29 14:36:22.420 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-29 14:36:22.421 +02:00 [DBG] Executing controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 14:36:22.540 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-29 14:36:22.742 +02:00 [DBG] Executed controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 14:36:22.746 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-29 14:36:22.747 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-29 14:36:22.749 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 14:36:22.750 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 14:36:22.750 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-29 14:36:22.752 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-29 14:36:22.754 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 14:36:22.755 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-29 14:36:22.756 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 14:36:22.756 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 14:36:22.757 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 14:36:22.758 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 14:36:22.759 +02:00 [DBG] Attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto' ...
2023-03-29 14:36:22.760 +02:00 [DBG] Attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto' using the name '' in request data ...
2023-03-29 14:36:22.761 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-03-29 14:36:22.762 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-03-29 14:36:22.770 +02:00 [DBG] Connection id "0HMPGA79DI7T2", Request id "0HMPGA79DI7T2:00000013": started reading request body.
2023-03-29 14:36:22.771 +02:00 [DBG] Connection id "0HMPGA79DI7T2", Request id "0HMPGA79DI7T2:00000013": done reading request body.
2023-03-29 14:36:22.880 +02:00 [DBG] Done attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto'.
2023-03-29 14:36:22.881 +02:00 [DBG] Done attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto'.
2023-03-29 14:36:22.882 +02:00 [DBG] Attempting to validate the bound parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto' ...
2023-03-29 14:36:22.887 +02:00 [DBG] Done attempting to validate the bound parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto'.
2023-03-29 14:36:23.392 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'TicketContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-03-29 14:36:23.423 +02:00 [DBG] Compiling query expression: 
'DbSet<Ticket>()'
2023-03-29 14:36:23.585 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Ticket>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Ticket.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Ticket.CityID (int) Required, 1], [Property: Ticket.Email (string) Required MaxLength(100), 2], [Property: Ticket.Name (string) Required MaxLength(50), 3], [Property: Ticket.PointOfInterestId (int) Required, 4] }
        SELECT t.Id, t.CityID, t.Email, t.Name, t.PointOfInterestId
        FROM Tickets AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Ticket>, 
    Tickets.API.DbContexts.TicketContext, 
    False, 
    False, 
    True
)'
2023-03-29 14:36:23.624 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-29 14:36:23.776 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (149ms).
2023-03-29 14:36:23.786 +02:00 [DBG] Opening connection to database 'main' on server 'Ticket.db'.
2023-03-29 14:36:23.809 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 14:36:23.819 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
2023-03-29 14:36:23.842 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
2023-03-29 14:36:23.860 +02:00 [DBG] Context 'TicketContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-29 14:36:23.880 +02:00 [DBG] Context 'TicketContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-29 14:36:23.881 +02:00 [DBG] Context 'TicketContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-29 14:36:23.888 +02:00 [DBG] A data reader was disposed.
2023-03-29 14:36:23.894 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 14:36:23.900 +02:00 [DBG] Closed connection to database 'main' on server 'Ticket.db'.
2023-03-29 14:36:23.906 +02:00 [DBG] SaveChanges starting for 'TicketContext'.
2023-03-29 14:36:23.909 +02:00 [DBG] DetectChanges starting for 'TicketContext'.
2023-03-29 14:36:23.922 +02:00 [DBG] DetectChanges completed for 'TicketContext'.
2023-03-29 14:36:23.927 +02:00 [DBG] SaveChanges completed for 'TicketContext' with 0 entities written to the database.
2023-03-29 14:36:28.974 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-29 14:36:28.978 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-03-29 14:36:28.979 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-03-29 14:36:28.981 +02:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-03-29 15:35:55.700 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-29 15:35:55.849 +02:00 [DBG] Hosting starting
2023-03-29 15:35:56.031 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1C85E5F590EF96CCA5745C4C60AC850D1B5EF268)
2023-03-29 15:35:56.077 +02:00 [INF] Now listening on: https://localhost:7183
2023-03-29 15:35:56.078 +02:00 [INF] Now listening on: http://localhost:5183
2023-03-29 15:35:56.079 +02:00 [DBG] Loaded hosting startup assembly Tickets.API
2023-03-29 15:35:56.080 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-29 15:35:56.082 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-29 15:35:56.083 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-29 15:35:56.085 +02:00 [INF] Hosting environment: Development
2023-03-29 15:35:56.086 +02:00 [INF] Content root path: C:\Aleksandar\demo\CityInfo\Tickets.API\
2023-03-29 15:35:56.086 +02:00 [DBG] Hosting started
2023-03-29 15:35:56.167 +02:00 [DBG] Connection id "0HMPGBA34VKQB" accepted.
2023-03-29 15:35:56.167 +02:00 [DBG] Connection id "0HMPGBA34VKQA" accepted.
2023-03-29 15:35:56.170 +02:00 [DBG] Connection id "0HMPGBA34VKQA" started.
2023-03-29 15:35:56.170 +02:00 [DBG] Connection id "0HMPGBA34VKQB" started.
2023-03-29 15:35:56.185 +02:00 [DBG] Connection id "0HMPGBA34VKQB" received FIN.
2023-03-29 15:35:56.185 +02:00 [DBG] Connection id "0HMPGBA34VKQA" received FIN.
2023-03-29 15:35:56.204 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 15:35:56.204 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 15:35:56.261 +02:00 [DBG] Connection id "0HMPGBA34VKQB" stopped.
2023-03-29 15:35:56.261 +02:00 [DBG] Connection id "0HMPGBA34VKQA" stopped.
2023-03-29 15:35:56.266 +02:00 [DBG] Connection id "0HMPGBA34VKQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 15:35:56.266 +02:00 [DBG] Connection id "0HMPGBA34VKQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 15:35:56.982 +02:00 [DBG] Connection id "0HMPGBA34VKQC" accepted.
2023-03-29 15:35:56.985 +02:00 [DBG] Connection id "0HMPGBA34VKQC" started.
2023-03-29 15:35:57.057 +02:00 [DBG] Connection 0HMPGBA34VKQC established using the following protocol: "Tls13"
2023-03-29 15:35:57.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/index.html - -
2023-03-29 15:35:57.246 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-29 15:35:57.418 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-29 15:35:57.558 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-29 15:35:57.562 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - -
2023-03-29 15:35:57.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/index.html - - - 200 - text/html;charset=utf-8 398.6327ms
2023-03-29 15:35:57.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.1179ms
2023-03-29 15:35:57.579 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_vs/browserLink - -
2023-03-29 15:35:57.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.6300ms
2023-03-29 15:35:57.754 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - -
2023-03-29 15:35:57.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.6841ms
2023-03-29 15:51:49.097 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-29 15:51:49.244 +02:00 [DBG] Hosting starting
2023-03-29 15:51:49.432 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1C85E5F590EF96CCA5745C4C60AC850D1B5EF268)
2023-03-29 15:51:49.491 +02:00 [INF] Now listening on: https://localhost:7183
2023-03-29 15:51:49.492 +02:00 [INF] Now listening on: http://localhost:5183
2023-03-29 15:51:49.494 +02:00 [DBG] Loaded hosting startup assembly Tickets.API
2023-03-29 15:51:49.495 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-29 15:51:49.496 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-29 15:51:49.498 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-29 15:51:49.499 +02:00 [INF] Hosting environment: Development
2023-03-29 15:51:49.500 +02:00 [INF] Content root path: C:\Aleksandar\demo\CityInfo\Tickets.API\
2023-03-29 15:51:49.501 +02:00 [DBG] Hosting started
2023-03-29 15:51:49.805 +02:00 [DBG] Connection id "0HMPGBIVBK9S5" received FIN.
2023-03-29 15:51:49.805 +02:00 [DBG] Connection id "0HMPGBIVBK9S6" received FIN.
2023-03-29 15:51:49.823 +02:00 [DBG] Connection id "0HMPGBIVBK9S5" accepted.
2023-03-29 15:51:49.823 +02:00 [DBG] Connection id "0HMPGBIVBK9S6" accepted.
2023-03-29 15:51:49.826 +02:00 [DBG] Connection id "0HMPGBIVBK9S5" started.
2023-03-29 15:51:49.826 +02:00 [DBG] Connection id "0HMPGBIVBK9S6" started.
2023-03-29 15:51:49.853 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 15:51:49.853 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 15:51:49.894 +02:00 [DBG] Connection id "0HMPGBIVBK9S6" stopped.
2023-03-29 15:51:49.894 +02:00 [DBG] Connection id "0HMPGBIVBK9S5" stopped.
2023-03-29 15:51:49.912 +02:00 [DBG] Connection id "0HMPGBIVBK9S6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 15:51:49.912 +02:00 [DBG] Connection id "0HMPGBIVBK9S5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 15:51:50.859 +02:00 [DBG] Connection id "0HMPGBIVBK9S7" accepted.
2023-03-29 15:51:50.864 +02:00 [DBG] Connection id "0HMPGBIVBK9S7" started.
2023-03-29 15:51:50.941 +02:00 [DBG] Connection 0HMPGBIVBK9S7 established using the following protocol: "Tls13"
2023-03-29 15:51:51.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/index.html - -
2023-03-29 15:51:51.120 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-29 15:51:51.256 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-29 15:51:51.381 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - -
2023-03-29 15:51:51.384 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-29 15:51:51.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 5.7432ms
2023-03-29 15:51:51.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/index.html - - - 200 - text/html;charset=utf-8 316.2841ms
2023-03-29 15:51:51.397 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_vs/browserLink - -
2023-03-29 15:51:51.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.0266ms
2023-03-29 15:51:51.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - -
2023-03-29 15:51:51.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.0322ms
2023-03-29 15:53:55.496 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/api/tickets/1/3 - -
2023-03-29 15:53:55.510 +02:00 [DBG] The request path  does not match the path filter
2023-03-29 15:53:55.530 +02:00 [DBG] 1 candidate(s) found for the request path '/api/tickets/1/3'
2023-03-29 15:53:55.535 +02:00 [DBG] Endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)' with route pattern 'api/tickets/{cityId}/{pointOfInterestId}' is valid for the request path '/api/tickets/1/3'
2023-03-29 15:53:55.536 +02:00 [DBG] Request matched endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)'
2023-03-29 15:53:55.539 +02:00 [INF] Executing endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)'
2023-03-29 15:53:55.568 +02:00 [INF] Route matched with {action = "GetTicketsForPointOfInterest", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Tickets.API.Models.TicketDto]]] GetTicketsForPointOfInterest(Int32, Int32) on controller Tickets.API.Controllers.TicketsController (Tickets.API).
2023-03-29 15:53:55.570 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-29 15:53:55.572 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-29 15:53:55.573 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-29 15:53:55.575 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-29 15:53:55.576 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-29 15:53:55.577 +02:00 [DBG] Executing controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 15:53:55.695 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-29 15:53:55.919 +02:00 [DBG] Executed controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 15:53:55.924 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-29 15:53:55.926 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-29 15:53:55.927 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 15:53:55.928 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 15:53:55.928 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-29 15:53:55.931 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-29 15:53:55.934 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 15:53:55.935 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-29 15:53:55.936 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 15:53:55.937 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 15:53:55.937 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 15:53:55.938 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 15:53:55.941 +02:00 [INF] Returning tickets for specific point of interests
2023-03-29 15:53:56.509 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'TicketContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-03-29 15:53:56.565 +02:00 [DBG] Compiling query expression: 
'DbSet<Ticket>()
    .Where(t => t.PointOfInterestId == __pointOfInterestId_0 && t.CityID == __cityId_1)'
2023-03-29 15:53:56.869 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Ticket>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Ticket.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Ticket.CityID (int) Required, 1], [Property: Ticket.Email (string) Required MaxLength(100), 2], [Property: Ticket.Name (string) Required MaxLength(50), 3], [Property: Ticket.PointOfInterestId (int) Required, 4] }
        SELECT t.Id, t.CityID, t.Email, t.Name, t.PointOfInterestId
        FROM Tickets AS t
        WHERE (t.PointOfInterestId == @__pointOfInterestId_0) && (t.CityID == @__cityId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Ticket>, 
    Tickets.API.DbContexts.TicketContext, 
    False, 
    False, 
    True
)'
2023-03-29 15:53:56.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-29 15:53:56.977 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (54ms).
2023-03-29 15:53:56.992 +02:00 [DBG] Opening connection to database 'main' on server 'Ticket.db'.
2023-03-29 15:53:57.011 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 15:53:57.028 +02:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
WHERE ("t"."PointOfInterestId" = @__pointOfInterestId_0) AND ("t"."CityID" = @__cityId_1)
2023-03-29 15:53:57.060 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
WHERE ("t"."PointOfInterestId" = @__pointOfInterestId_0) AND ("t"."CityID" = @__cityId_1)
2023-03-29 15:53:57.072 +02:00 [DBG] A data reader was disposed.
2023-03-29 15:53:57.080 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 15:53:57.087 +02:00 [DBG] Closed connection to database 'main' on server 'Ticket.db'.
2023-03-29 15:54:07.105 +02:00 [INF] Start processing HTTP request POST "https://localhost:7027/api/authentication/authenticate"
2023-03-29 15:54:07.107 +02:00 [INF] Sending HTTP request POST "https://localhost:7027/api/authentication/authenticate"
2023-03-29 15:54:07.672 +02:00 [INF] Received HTTP response headers after 559.6115ms - 200
2023-03-29 15:54:07.675 +02:00 [INF] End processing HTTP request after 571.1161ms - 200
2023-03-29 15:55:07.241 +02:00 [INF] Start processing HTTP request GET "https://localhost:7027/api/cities/1/pointsofinterest/3"
2023-03-29 15:55:07.242 +02:00 [INF] Sending HTTP request GET "https://localhost:7027/api/cities/1/pointsofinterest/3"
2023-03-29 15:55:08.985 +02:00 [INF] Received HTTP response headers after 1742.0147ms - 404
2023-03-29 15:55:08.986 +02:00 [INF] End processing HTTP request after 1745.3027ms - 404
2023-03-29 15:55:09.055 +02:00 [INF] Executed action Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API) in 73474.0513ms
2023-03-29 15:55:09.057 +02:00 [INF] Executed endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)'
2023-03-29 15:55:09.060 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: Something went wrong calling the API: Not Found
   at Tickets.API.Extensions.HttpClientExtension.ReadContentAs[T](HttpResponseMessage response) in C:\Aleksandar\demo\CityInfo\Tickets.API\Extensions\HttpClientExtension.cs:line 41
   at Tickets.API.Services.CityInfoService.GetPointOfInterest(Int32 cityId, Int32 pointOfInterest, String accessToken) in C:\Aleksandar\demo\CityInfo\Tickets.API\Services\CityInfoService.cs:line 31
   at Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Aleksandar\demo\CityInfo\Tickets.API\Controllers\TicketsController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-29 15:55:09.089 +02:00 [DBG] 'TicketContext' disposed.
2023-03-29 15:55:09.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/api/tickets/1/3 - - - 500 - text/plain;+charset=utf-8 73597.4382ms
2023-03-29 15:55:22.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/api/tickets/1/3 - -
2023-03-29 15:55:22.456 +02:00 [DBG] The request path  does not match the path filter
2023-03-29 15:55:22.457 +02:00 [DBG] 1 candidate(s) found for the request path '/api/tickets/1/3'
2023-03-29 15:55:22.458 +02:00 [DBG] Endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)' with route pattern 'api/tickets/{cityId}/{pointOfInterestId}' is valid for the request path '/api/tickets/1/3'
2023-03-29 15:55:22.459 +02:00 [DBG] Request matched endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)'
2023-03-29 15:55:22.460 +02:00 [INF] Executing endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)'
2023-03-29 15:55:22.460 +02:00 [INF] Route matched with {action = "GetTicketsForPointOfInterest", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Tickets.API.Models.TicketDto]]] GetTicketsForPointOfInterest(Int32, Int32) on controller Tickets.API.Controllers.TicketsController (Tickets.API).
2023-03-29 15:55:22.461 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-29 15:55:22.462 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-29 15:55:22.463 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-29 15:55:22.465 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-29 15:55:22.465 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-29 15:55:22.466 +02:00 [DBG] Executing controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 15:55:22.474 +02:00 [DBG] Executed controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 15:55:22.481 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-29 15:55:22.484 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-29 15:55:22.485 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 15:55:22.486 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 15:55:22.486 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-29 15:55:22.487 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-29 15:55:22.488 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 15:55:22.489 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-29 15:55:22.490 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 15:55:22.491 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 15:55:22.492 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 15:55:22.493 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 15:55:22.494 +02:00 [INF] Returning tickets for specific point of interests
2023-03-29 15:55:22.496 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'TicketContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-03-29 15:55:22.503 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-29 15:55:22.504 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-29 15:55:22.505 +02:00 [DBG] Opening connection to database 'main' on server 'Ticket.db'.
2023-03-29 15:55:22.506 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 15:55:22.507 +02:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
WHERE ("t"."PointOfInterestId" = @__pointOfInterestId_0) AND ("t"."CityID" = @__cityId_1)
2023-03-29 15:55:22.508 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
WHERE ("t"."PointOfInterestId" = @__pointOfInterestId_0) AND ("t"."CityID" = @__cityId_1)
2023-03-29 15:55:22.510 +02:00 [DBG] A data reader was disposed.
2023-03-29 15:55:22.511 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 15:55:22.512 +02:00 [DBG] Closed connection to database 'main' on server 'Ticket.db'.
2023-03-29 15:55:25.866 +02:00 [INF] Start processing HTTP request POST "https://localhost:7027/api/authentication/authenticate"
2023-03-29 15:55:25.870 +02:00 [INF] Sending HTTP request POST "https://localhost:7027/api/authentication/authenticate"
2023-03-29 15:55:37.229 +02:00 [INF] Received HTTP response headers after 11358.2432ms - 200
2023-03-29 15:55:37.230 +02:00 [INF] End processing HTTP request after 11363.7659ms - 200
2023-03-29 15:55:44.233 +02:00 [INF] Start processing HTTP request GET "https://localhost:7027/api/cities/1/pointsofinterest/3"
2023-03-29 15:55:44.239 +02:00 [INF] Sending HTTP request GET "https://localhost:7027/api/cities/1/pointsofinterest/3"
2023-03-29 15:55:44.307 +02:00 [INF] Received HTTP response headers after 67.6217ms - 404
2023-03-29 15:55:44.308 +02:00 [INF] End processing HTTP request after 74.7079ms - 404
2023-03-29 15:55:44.360 +02:00 [INF] Executed action Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API) in 21893.4228ms
2023-03-29 15:55:44.361 +02:00 [INF] Executed endpoint 'Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest (Tickets.API)'
2023-03-29 15:55:44.362 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: Something went wrong calling the API: Not Found
   at Tickets.API.Extensions.HttpClientExtension.ReadContentAs[T](HttpResponseMessage response) in C:\Aleksandar\demo\CityInfo\Tickets.API\Extensions\HttpClientExtension.cs:line 41
   at Tickets.API.Services.CityInfoService.GetPointOfInterest(Int32 cityId, Int32 pointOfInterest, String accessToken) in C:\Aleksandar\demo\CityInfo\Tickets.API\Services\CityInfoService.cs:line 31
   at Tickets.API.Controllers.TicketsController.GetTicketsForPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Aleksandar\demo\CityInfo\Tickets.API\Controllers\TicketsController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-29 15:55:44.368 +02:00 [DBG] 'TicketContext' disposed.
2023-03-29 15:55:44.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/api/tickets/1/3 - - - 500 - text/plain;+charset=utf-8 21917.3047ms
2023-03-29 15:55:55.924 +02:00 [DBG] HttpMessageHandler expired after 120000ms for client 'ICityInfoService'
2023-03-29 15:56:05.938 +02:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2023-03-29 15:56:05.942 +02:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0282ms - processed: 0 items - remaining: 1 items
2023-03-29 15:56:15.957 +02:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2023-03-29 15:56:15.958 +02:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2023-03-29 15:56:25.971 +02:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2023-03-29 15:56:25.972 +02:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2023-03-29 15:56:35.990 +02:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2023-03-29 15:56:35.991 +02:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2023-03-29 16:02:19.002 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-29 16:02:19.100 +02:00 [DBG] Hosting starting
2023-03-29 16:02:19.222 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1C85E5F590EF96CCA5745C4C60AC850D1B5EF268)
2023-03-29 16:02:19.256 +02:00 [INF] Now listening on: https://localhost:7183
2023-03-29 16:02:19.257 +02:00 [INF] Now listening on: http://localhost:5183
2023-03-29 16:02:19.258 +02:00 [DBG] Loaded hosting startup assembly Tickets.API
2023-03-29 16:02:19.259 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-29 16:02:19.260 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-29 16:02:19.262 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-29 16:02:19.263 +02:00 [INF] Hosting environment: Development
2023-03-29 16:02:19.264 +02:00 [INF] Content root path: C:\Aleksandar\demo\CityInfo\Tickets.API\
2023-03-29 16:02:19.265 +02:00 [DBG] Hosting started
2023-03-29 16:02:19.434 +02:00 [DBG] Connection id "0HMPGBOR064EG" accepted.
2023-03-29 16:02:19.434 +02:00 [DBG] Connection id "0HMPGBOR064EF" accepted.
2023-03-29 16:02:19.438 +02:00 [DBG] Connection id "0HMPGBOR064EG" started.
2023-03-29 16:02:19.438 +02:00 [DBG] Connection id "0HMPGBOR064EF" started.
2023-03-29 16:02:19.454 +02:00 [DBG] Connection id "0HMPGBOR064EG" received FIN.
2023-03-29 16:02:19.454 +02:00 [DBG] Connection id "0HMPGBOR064EF" received FIN.
2023-03-29 16:02:19.467 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 16:02:19.467 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-29 16:02:19.508 +02:00 [DBG] Connection id "0HMPGBOR064EG" stopped.
2023-03-29 16:02:19.508 +02:00 [DBG] Connection id "0HMPGBOR064EF" stopped.
2023-03-29 16:02:19.513 +02:00 [DBG] Connection id "0HMPGBOR064EF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 16:02:19.513 +02:00 [DBG] Connection id "0HMPGBOR064EG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-29 16:02:20.069 +02:00 [DBG] Connection id "0HMPGBOR064EH" accepted.
2023-03-29 16:02:20.071 +02:00 [DBG] Connection id "0HMPGBOR064EH" started.
2023-03-29 16:02:20.114 +02:00 [DBG] Connection 0HMPGBOR064EH established using the following protocol: "Tls13"
2023-03-29 16:02:20.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/index.html - -
2023-03-29 16:02:20.237 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-29 16:02:20.347 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-29 16:02:20.471 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-29 16:02:20.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/index.html - - - 200 - text/html;charset=utf-8 289.9440ms
2023-03-29 16:02:20.486 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - -
2023-03-29 16:02:20.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.9498ms
2023-03-29 16:02:20.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/_vs/browserLink - -
2023-03-29 16:02:20.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.7433ms
2023-03-29 16:02:20.630 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - -
2023-03-29 16:02:20.813 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7183/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.0451ms
2023-03-29 16:02:54.984 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7183/api/tickets/1/2 application/json-patch+json 85
2023-03-29 16:02:54.989 +02:00 [DBG] POST requests are not supported
2023-03-29 16:02:55.007 +02:00 [DBG] 1 candidate(s) found for the request path '/api/tickets/1/2'
2023-03-29 16:02:55.010 +02:00 [DBG] Endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)' with route pattern 'api/tickets/{cityId}/{pointOfInterestId}' is valid for the request path '/api/tickets/1/2'
2023-03-29 16:02:55.012 +02:00 [DBG] Request matched endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)'
2023-03-29 16:02:55.014 +02:00 [INF] Executing endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)'
2023-03-29 16:02:55.036 +02:00 [INF] Route matched with {action = "NewTicketBought", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Tickets.API.Models.BoughtTicketDto]] NewTicketBought(Int32, Int32, Tickets.API.Models.BoughtTicketDto) on controller Tickets.API.Controllers.TicketsController (Tickets.API).
2023-03-29 16:02:55.037 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-29 16:02:55.038 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-29 16:02:55.039 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-29 16:02:55.040 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-29 16:02:55.041 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-29 16:02:55.042 +02:00 [DBG] Executing controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 16:02:55.150 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-29 16:02:55.352 +02:00 [DBG] Executed controller factory for controller Tickets.API.Controllers.TicketsController (Tickets.API)
2023-03-29 16:02:55.356 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-29 16:02:55.358 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-29 16:02:55.359 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 16:02:55.360 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-29 16:02:55.361 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-29 16:02:55.363 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-29 16:02:55.365 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 16:02:55.366 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-29 16:02:55.367 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 16:02:55.368 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 16:02:55.369 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-29 16:02:55.369 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-29 16:02:55.370 +02:00 [DBG] Attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto' ...
2023-03-29 16:02:55.371 +02:00 [DBG] Attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto' using the name '' in request data ...
2023-03-29 16:02:55.373 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-03-29 16:02:55.374 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-03-29 16:02:55.381 +02:00 [DBG] Connection id "0HMPGBOR064EH", Request id "0HMPGBOR064EH:00000009": started reading request body.
2023-03-29 16:02:55.382 +02:00 [DBG] Connection id "0HMPGBOR064EH", Request id "0HMPGBOR064EH:00000009": done reading request body.
2023-03-29 16:02:55.484 +02:00 [DBG] Done attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto'.
2023-03-29 16:02:55.485 +02:00 [DBG] Done attempting to bind parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto'.
2023-03-29 16:02:55.486 +02:00 [DBG] Attempting to validate the bound parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto' ...
2023-03-29 16:02:55.493 +02:00 [DBG] Done attempting to validate the bound parameter 'boughtTicket' of type 'Tickets.API.Models.BoughtTicketDto'.
2023-03-29 16:03:03.410 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'TicketContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-03-29 16:03:03.439 +02:00 [DBG] Compiling query expression: 
'DbSet<Ticket>()'
2023-03-29 16:03:03.601 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Ticket>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Ticket.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Ticket.CityID (int) Required, 1], [Property: Ticket.Email (string) Required MaxLength(100), 2], [Property: Ticket.Name (string) Required MaxLength(50), 3], [Property: Ticket.PointOfInterestId (int) Required, 4] }
        SELECT t.Id, t.CityID, t.Email, t.Name, t.PointOfInterestId
        FROM Tickets AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Ticket>, 
    Tickets.API.DbContexts.TicketContext, 
    False, 
    False, 
    True
)'
2023-03-29 16:03:03.639 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-29 16:03:03.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (47ms).
2023-03-29 16:03:03.700 +02:00 [DBG] Opening connection to database 'main' on server 'Ticket.db'.
2023-03-29 16:03:03.716 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 16:03:03.726 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
2023-03-29 16:03:03.749 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CityID", "t"."Email", "t"."Name", "t"."PointOfInterestId"
FROM "Tickets" AS "t"
2023-03-29 16:03:03.766 +02:00 [DBG] Context 'TicketContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-29 16:03:03.786 +02:00 [DBG] Context 'TicketContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-29 16:03:03.787 +02:00 [DBG] Context 'TicketContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-29 16:03:03.793 +02:00 [DBG] A data reader was disposed.
2023-03-29 16:03:03.800 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Aleksandar\demo\CityInfo\Tickets.API\Ticket.db'.
2023-03-29 16:03:03.806 +02:00 [DBG] Closed connection to database 'main' on server 'Ticket.db'.
2023-03-29 16:03:10.694 +02:00 [DBG] SaveChanges starting for 'TicketContext'.
2023-03-29 16:03:10.697 +02:00 [DBG] DetectChanges starting for 'TicketContext'.
2023-03-29 16:03:10.709 +02:00 [DBG] DetectChanges completed for 'TicketContext'.
2023-03-29 16:03:10.714 +02:00 [DBG] SaveChanges completed for 'TicketContext' with 0 entities written to the database.
2023-03-29 16:03:27.629 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-29 16:03:27.633 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-03-29 16:03:27.634 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-03-29 16:03:27.635 +02:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-03-29 16:03:27.640 +02:00 [INF] Executed action Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API) in 32594.547ms
2023-03-29 16:03:27.641 +02:00 [INF] Executed endpoint 'Tickets.API.Controllers.TicketsController.NewTicketBought (Tickets.API)'
2023-03-29 16:03:27.646 +02:00 [DBG] 'TicketContext' disposed.
2023-03-29 16:03:27.650 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7183/api/tickets/1/2 application/json-patch+json 85 - 406 0 - 32666.4674ms
